<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Файл: За'аргул, Лич-Страж</title>
  <style>
    /* БАЗОВЫЙ СТИЛЬ СТРАНИЦЫ */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      color: #00ff66;
      font-family: Consolas, "Roboto Mono", monospace;
    }

    .wrapper {
      min-height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .terminal {
      max-width: 900px;
      width: 100%;
      border: 1px solid #00aa44;
      padding: 20px 24px;
      box-sizing: border-box;
      background: radial-gradient(circle at top, #002200 0, #000 60%);
      box-shadow: 0 0 20px #00aa44;
      overflow: hidden;
    }

    .terminal-header {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    /* ОБЛАСТЬ ВИДОВ (ЭКРАНОВ) */
    .views {
      position: relative;
      height: 260px;          /* можно подрегулировать под объём текста */
      overflow: hidden;
    }

    .views-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform: translateY(0);
      transition: transform 0.6s ease;
    }

    .view {
      box-sizing: border-box;
      width: 100%;
      height: 260px;          /* должен совпадать с .views height */
      padding-top: 4px;
    }

    .terminal-body {
      white-space: pre-wrap;
      font-size: 16px;
      line-height: 1.4;
      height: 190px;
      overflow-y: hidden;
    }

    .cursor {
      display: inline-block;
      width: 9px;
      height: 18px;
      background-color: #00ff66;
      margin-left: 2px;
      animation: blink 0.8s steps(1) infinite;
      vertical-align: bottom;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    /* КНОПКИ-РАЗДЕЛЫ */
    .buttons-row {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .nav-btn {
      position: relative;
      padding: 10px 16px;
      border-radius: 4px;
      border: 1px solid #00aa44;
      background: rgba(0, 20, 0, 0.9);
      color: #00ff99;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      cursor: pointer;
      text-decoration: none;
      filter: drop-shadow(0 0 6px #004422);
      overflow: hidden;

      /* ВАЖНО: изначально скрыты */
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.4s ease, transform 0.4s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .nav-btn::before {
      content: "";
      position: absolute;
      left: -40%;
      top: 0;
      width: 40%;
      height: 100%;
      background: linear-gradient(120deg, transparent, rgba(0, 255, 153, 0.35), transparent);
      transform: skewX(-20deg);
      opacity: 0;
    }

    .nav-btn:hover {
      box-shadow: 0 0 10px #00ff99;
      background: rgba(0, 40, 0, 0.95);
    }

    .nav-btn:hover::before {
      animation: shine 0.7s forwards;
      opacity: 1;
    }

    @keyframes shine {
      from { transform: translateX(-120%) skewX(-20deg); }
      to   { transform: translateX(200%) skewX(-20deg); }
    }

    .nav-btn.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* Чуть приглушённая кнопка "Назад" */
    .nav-btn.back {
      border-color: #008844;
      color: #66ffcc;
      text-transform: none;
      letter-spacing: 0.03em;

      /* главное: она не скрыта */
      opacity: 1;
      transform: translateY(0);
    }


    @media (max-width: 600px) {
      .terminal {
        padding: 16px 14px;
      }
      /* ЗАМЕНИ эти фрагменты у себя */

    .views {
      position: relative;
      height: 340px;      /* было 260px */
      overflow: hidden;
    }

    .view {
      box-sizing: border-box;
      width: 100%;
      height: 340px;      /* было 260px */
      padding-top: 4px;
    }

    .terminal-body {
      white-space: pre-wrap;
      font-size: 16px;
      line-height: 1.4;
      height: 240px;      /* было 190px */
      overflow-y: auto;   /* было hidden – теперь можно прокручивать, если текста слишком много */
    }

      .buttons-row {
        flex-direction: column;
      }
      .nav-btn {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="terminal">
      <div class="terminal-header">
        <div>NECRONTYR / DATA-NEXUS</div>
        <div>УРОВЕНЬ ДОПУСКА: &Omega;-VERITAS</div>
      </div>

      <div class="views">
        <div class="views-inner" id="views-inner">
          <!-- ====== ЭКРАН ОБЗОРА ====== -->
          <section class="view" id="view-overview">
            <div id="overview-body" class="terminal-body"></div>

            <div class="buttons-row">
              <button class="nav-btn" data-target="biometrics">
                Биометрическая Идентификация
              </button>
              <button class="nav-btn" data-target="protocols">
                Протоколы
              </button>
              <button class="nav-btn" data-target="dossier">
                Личное Дело
              </button>
            </div>
          </section>

          <!-- ====== ЭКРАН БИОМЕТРИИ ====== -->
          <section class="view" id="view-biometrics">
            <div id="biometrics-body" class="terminal-body"></div>

            <div class="buttons-row">
              <button class="nav-btn back" data-target="overview">
                &laquo; Вернуться к обзору файла
              </button>
              <!-- Сюда потом можно добавить другие кнопки, если нужно -->
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ---------- ТЕКСТ ОБЗОРА ---------- */
    const overviewLines = [
      ">> ИНИЦИАЛИЗАЦИЯ ДОСТУПА К АРХИВУ...",
      ">> ПОИСК ФАЙЛА: За'аргул, Лич-Страж...",
      ">> СТАТУС: АКТИВЕН   |   РЕГАЛИЯ: ЛИЧ-СТРАЖ РЕГЕНТА",
      ">> ДИНАСТИЯ: АР-НЕКФИСТ   |   МИР-ГРОБНИЦА: [ДАННЫЕ ЗАШИФРОВАНЫ]",
      ">> ФУНКЦИЯ: ПЕРВЫЙ МЕЧ, ТЕЛЕСНАЯ ГВАРДИЯ, ИСПОЛНИТЕЛЬ ПРИГОВОРОВ",
      ">> ПРЕДВАРИТЕЛЬНЫЙ ОБЗОР ФАЙЛА ЗАГРУЖЕН."
    ];

    /* ---------- ТЕКСТ БИОМЕТРИИ / АВТОРИЗАЦИИ ---------- */
    const biometricsLines = [
      ">> ДОСТУП К ПОДРАЗДЕЛУ: БИОМЕТРИЧЕСКАЯ ИДЕНТИФИКАЦИЯ...",
      ">> ПОДТВЕРЖДЕНИЕ УРОВНЯ ДОПУСКА: ОДОБРЕНО.",
      ">> ЗАГРУЗКА ТЕЛЕСНЫХ ПАРАМЕТРОВ ЛИЧ-СТРАЖА...",
      "",
      "   ИДЕНТИФИКАТОР: ЗА'АРГУЛ",
      "   ТЕЛЕСНАЯ ФОРМА: НЕКРОДЕРМИС, ФАЗОВО УСТОЙЧИВАЯ",
      "   РАНГ ВОИНА: ЛИЧ-СТРАЖ РЕГЕНТА",
      "   СТАТУС РЕАКТИВАЦИИ: НЕПРЕРЫВНЫЙ БОЕВОЙ РЕЖИМ",
      "   ЛОКАЛЬНЫЕ ПОВРЕЖДЕНИЯ: [УСТРАНЕНЫ АВТО-РЕФОРМАЦИЕЙ]",
      "",
      ">> БИОМЕТРИЧЕСКОЕ ДЕЛО ГОТОВО К ПРОСМОТРУ."
    ];

    const typingSpeed = 15;
    const linePause = 200;

    /* ---------- ОБЗОР: АНИМАЦИЯ ПЕЧАТИ ---------- */
    const overviewBody = document.getElementById("overview-body");
    const overviewCursor = document.createElement("span");
    overviewCursor.className = "cursor";
    overviewBody.appendChild(overviewCursor);

    let ovLineIndex = 0;
    let ovCharIndex = 0;
    let ovCurrentText = "";

    function typeOverview() {
      const line = overviewLines[ovLineIndex];

      if (ovCharIndex < line.length) {
        ovCurrentText += line[ovCharIndex];
        renderOverview();
        ovCharIndex++;
        setTimeout(typeOverview, typingSpeed);
      } else {
        ovCurrentText += "\n";
        renderOverview();
        ovLineIndex++;
        ovCharIndex = 0;

        if (ovLineIndex < overviewLines.length) {
          setTimeout(typeOverview, linePause);
        } else {
          // когда обзор закончен — можно, если хочешь, красиво показать кнопки
          showOverviewButtons();
        }
      }
    }

    function renderOverview() {
      overviewBody.innerHTML = "";
      overviewBody.appendChild(document.createTextNode(ovCurrentText));
      overviewBody.appendChild(overviewCursor);
    }

    function showOverviewButtons() {
      const buttons = document.querySelectorAll("#view-overview .nav-btn");
      buttons.forEach((btn, i) => {
        setTimeout(() => {
          btn.classList.add("show");
        }, 200 * i); // ступенчатое появление
      });
    }


    /* ---------- БИОМЕТРИЯ: АНИМАЦИЯ ПЕЧАТИ ---------- */
    const biometricsBody = document.getElementById("biometrics-body");
    const biometricsCursor = document.createElement("span");
    biometricsCursor.className = "cursor";

    let bioLineIndex = 0;
    let bioCharIndex = 0;
    let bioCurrentText = "";
    let biometricsStarted = false;

    function startBiometricsTyping() {
      if (biometricsStarted) return;
      biometricsStarted = true;

      biometricsBody.innerHTML = "";
      bioLineIndex = 0;
      bioCharIndex = 0;
      bioCurrentText = "";
      biometricsBody.appendChild(biometricsCursor);
      typeBiometrics();
    }

    function typeBiometrics() {
      const line = biometricsLines[bioLineIndex];

      if (bioCharIndex < line.length) {
        bioCurrentText += line[bioCharIndex];
        renderBiometrics();
        bioCharIndex++;
        setTimeout(typeBiometrics, typingSpeed);
      } else {
        bioCurrentText += "\n";
        renderBiometrics();
        bioLineIndex++;
        bioCharIndex = 0;

        if (bioLineIndex < biometricsLines.length) {
          setTimeout(typeBiometrics, linePause);
        }
      }
    }

    function renderBiometrics() {
      biometricsBody.innerHTML = "";
      biometricsBody.appendChild(document.createTextNode(bioCurrentText));
      biometricsBody.appendChild(biometricsCursor);
    }

    /* ---------- ПЕРЕКЛЮЧЕНИЕ ЭКРАНОВ (СЛАЙД ВВЕРХ/ВНИЗ) ---------- */
    const viewsInner = document.getElementById("views-inner");

    function goToView(target) {
      switch (target) {
        case "overview":
          viewsInner.style.transform = "translateY(0)";
          break;
        case "biometrics":
          // БЫЛО: viewsInner.style.transform = "translateY(-100%)";
          viewsInner.style.transform = "translateY(-50%)";
          setTimeout(startBiometricsTyping, 620);
          break;
          // Запустить печать после завершения слайда
          setTimeout(startBiometricsTyping, 620);
          break;
        default:
          // остальные пока-заглушки
          alert("Раздел \"" + target + "\" ещё не активирован.");
      }
    }

    /* ---------- ОБРАБОТЧИКИ КНОПОК ---------- */
    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".nav-btn");
      if (!btn) return;

      const target = btn.getAttribute("data-target");
      if (!target) return;

      e.preventDefault();
      if (target === "biometrics" || target === "overview") {
        goToView(target);
      } else {
        goToView(target);
      }
    });

    /* ---------- ЗАПУСК ОБЗОРА ---------- */
    window.addEventListener("load", () => {
      typeOverview();
    });
  </script>
</body>
</html>
